{"ast":null,"code":"'use client';\n\nimport { trackElementSize } from '@zag-js/element-size';\nimport { useState, useLayoutEffect, useEffect } from 'react';\nconst useSafeLayoutEffect = Boolean(globalThis?.document) ? useLayoutEffect : useEffect;\nfunction trackMutation(el, cb) {\n  if (!el || !el.parentElement) return;\n  const win = el.ownerDocument?.defaultView ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, {\n    childList: true\n  });\n  return () => {\n    observer.disconnect();\n  };\n}\nfunction useSizes(props) {\n  const {\n    getNodes,\n    observeMutation = true,\n    enabled = true,\n    fallback = []\n  } = props;\n  const [sizes, setSizes] = useState(fallback);\n  const [count, setCount] = useState(0);\n  useSafeLayoutEffect(() => {\n    if (!enabled) return;\n    const elements = getNodes();\n    const cleanups = elements.map((element, index) => trackElementSize(element, size => {\n      setSizes(sizes2 => {\n        return [...sizes2.slice(0, index), size, ...sizes2.slice(index + 1)];\n      });\n    }));\n    if (observeMutation) {\n      const firstNode = elements[0];\n      cleanups.push(trackMutation(firstNode, () => {\n        setCount(count2 => count2 + 1);\n      }));\n    }\n    return () => {\n      cleanups.forEach(cleanup => {\n        cleanup?.();\n      });\n    };\n  }, [count, enabled]);\n  return sizes;\n}\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\nfunction useSize(subject, options) {\n  const {\n    observeMutation = false,\n    enabled,\n    fallback\n  } = options ?? {};\n  const [size] = useSizes({\n    observeMutation,\n    enabled,\n    fallback: fallback ? [fallback] : void 0,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject;\n      return [node];\n    }\n  });\n  return size;\n}\nexport { useSize, useSizes };","map":{"version":3,"names":["trackElementSize","useState","useLayoutEffect","useEffect","useSafeLayoutEffect","Boolean","globalThis","document","trackMutation","el","cb","parentElement","win","ownerDocument","defaultView","window","observer","MutationObserver","observe","childList","disconnect","useSizes","props","getNodes","observeMutation","enabled","fallback","sizes","setSizes","count","setCount","elements","cleanups","map","element","index","size","sizes2","slice","firstNode","push","count2","forEach","cleanup","isRef","ref","useSize","subject","options","node","current"],"sources":["/home/coder/project/reactlab/node_modules/@chakra-ui/hooks/dist/esm/use-size.mjs"],"sourcesContent":["'use client';\nimport { trackElementSize } from '@zag-js/element-size';\nimport { useState, useLayoutEffect, useEffect } from 'react';\n\nconst useSafeLayoutEffect = Boolean(globalThis?.document) ? useLayoutEffect : useEffect;\nfunction trackMutation(el, cb) {\n  if (!el || !el.parentElement)\n    return;\n  const win = el.ownerDocument?.defaultView ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, { childList: true });\n  return () => {\n    observer.disconnect();\n  };\n}\nfunction useSizes(props) {\n  const {\n    getNodes,\n    observeMutation = true,\n    enabled = true,\n    fallback = []\n  } = props;\n  const [sizes, setSizes] = useState(fallback);\n  const [count, setCount] = useState(0);\n  useSafeLayoutEffect(() => {\n    if (!enabled)\n      return;\n    const elements = getNodes();\n    const cleanups = elements.map(\n      (element, index) => trackElementSize(element, (size) => {\n        setSizes((sizes2) => {\n          return [\n            ...sizes2.slice(0, index),\n            size,\n            ...sizes2.slice(index + 1)\n          ];\n        });\n      })\n    );\n    if (observeMutation) {\n      const firstNode = elements[0];\n      cleanups.push(\n        trackMutation(firstNode, () => {\n          setCount((count2) => count2 + 1);\n        })\n      );\n    }\n    return () => {\n      cleanups.forEach((cleanup) => {\n        cleanup?.();\n      });\n    };\n  }, [count, enabled]);\n  return sizes;\n}\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\nfunction useSize(subject, options) {\n  const { observeMutation = false, enabled, fallback } = options ?? {};\n  const [size] = useSizes({\n    observeMutation,\n    enabled,\n    fallback: fallback ? [fallback] : void 0,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject;\n      return [node];\n    }\n  });\n  return size;\n}\n\nexport { useSize, useSizes };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}