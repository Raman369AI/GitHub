{"ast":null,"code":"'use client';\n\nimport { useEventListener } from './use-event-listener.mjs';\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nconst isDom = () => typeof window !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nconst vn = v => isDom() && v.test(navigator.vendor);\nconst pt = v => isDom() && v.test(getPlatform());\nconst isApple = () => pt(/mac|iphone|ipad|ipod/i);\nconst isSafari = () => isApple() && vn(/apple/i);\nfunction useFocusOnPointerDown(props) {\n  const {\n    ref,\n    elements,\n    enabled\n  } = props;\n  const doc = () => ref.current?.ownerDocument ?? document;\n  useEventListener(doc, \"pointerdown\", event => {\n    if (!isSafari() || !enabled) return;\n    const target = event.composedPath?.()?.[0] ?? event.target;\n    const els = elements ?? [ref];\n    const isValidTarget = els.some(elementOrRef => {\n      const el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return el?.contains(target) || el === target;\n    });\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\nexport { useFocusOnPointerDown };","map":{"version":3,"names":["useEventListener","isRefObject","val","isDom","window","getPlatform","agent","navigator","userAgentData","platform","vn","v","test","vendor","pt","isApple","isSafari","useFocusOnPointerDown","props","ref","elements","enabled","doc","current","ownerDocument","document","event","target","composedPath","els","isValidTarget","some","elementOrRef","el","contains","activeElement","preventDefault","focus"],"sources":["/home/coder/project/reactlab/node_modules/@chakra-ui/hooks/dist/esm/use-focus-on-pointer-down.mjs"],"sourcesContent":["'use client';\nimport { useEventListener } from './use-event-listener.mjs';\n\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nconst isDom = () => typeof window !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nconst vn = (v) => isDom() && v.test(navigator.vendor);\nconst pt = (v) => isDom() && v.test(getPlatform());\nconst isApple = () => pt(/mac|iphone|ipad|ipod/i);\nconst isSafari = () => isApple() && vn(/apple/i);\nfunction useFocusOnPointerDown(props) {\n  const { ref, elements, enabled } = props;\n  const doc = () => ref.current?.ownerDocument ?? document;\n  useEventListener(doc, \"pointerdown\", (event) => {\n    if (!isSafari() || !enabled)\n      return;\n    const target = event.composedPath?.()?.[0] ?? event.target;\n    const els = elements ?? [ref];\n    const isValidTarget = els.some((elementOrRef) => {\n      const el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return el?.contains(target) || el === target;\n    });\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\n\nexport { useFocusOnPointerDown };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,gBAAgB,QAAQ,0BAA0B;AAE3D,SAASC,WAAWA,CAACC,GAAG,EAAE;EACxB,OAAO,SAAS,IAAIA,GAAG;AACzB;AACA,MAAMC,KAAK,GAAGA,CAAA,KAAM,OAAOC,MAAM,KAAK,WAAW;AACjD,SAASC,WAAWA,CAAA,EAAG;EACrB,MAAMC,KAAK,GAAGC,SAAS,CAACC,aAAa;EACrC,OAAOF,KAAK,EAAEG,QAAQ,IAAIF,SAAS,CAACE,QAAQ;AAC9C;AACA,MAAMC,EAAE,GAAIC,CAAC,IAAKR,KAAK,CAAC,CAAC,IAAIQ,CAAC,CAACC,IAAI,CAACL,SAAS,CAACM,MAAM,CAAC;AACrD,MAAMC,EAAE,GAAIH,CAAC,IAAKR,KAAK,CAAC,CAAC,IAAIQ,CAAC,CAACC,IAAI,CAACP,WAAW,CAAC,CAAC,CAAC;AAClD,MAAMU,OAAO,GAAGA,CAAA,KAAMD,EAAE,CAAC,uBAAuB,CAAC;AACjD,MAAME,QAAQ,GAAGA,CAAA,KAAMD,OAAO,CAAC,CAAC,IAAIL,EAAE,CAAC,QAAQ,CAAC;AAChD,SAASO,qBAAqBA,CAACC,KAAK,EAAE;EACpC,MAAM;IAAEC,GAAG;IAAEC,QAAQ;IAAEC;EAAQ,CAAC,GAAGH,KAAK;EACxC,MAAMI,GAAG,GAAGA,CAAA,KAAMH,GAAG,CAACI,OAAO,EAAEC,aAAa,IAAIC,QAAQ;EACxDzB,gBAAgB,CAACsB,GAAG,EAAE,aAAa,EAAGI,KAAK,IAAK;IAC9C,IAAI,CAACV,QAAQ,CAAC,CAAC,IAAI,CAACK,OAAO,EACzB;IACF,MAAMM,MAAM,GAAGD,KAAK,CAACE,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC,IAAIF,KAAK,CAACC,MAAM;IAC1D,MAAME,GAAG,GAAGT,QAAQ,IAAI,CAACD,GAAG,CAAC;IAC7B,MAAMW,aAAa,GAAGD,GAAG,CAACE,IAAI,CAAEC,YAAY,IAAK;MAC/C,MAAMC,EAAE,GAAGhC,WAAW,CAAC+B,YAAY,CAAC,GAAGA,YAAY,CAACT,OAAO,GAAGS,YAAY;MAC1E,OAAOC,EAAE,EAAEC,QAAQ,CAACP,MAAM,CAAC,IAAIM,EAAE,KAAKN,MAAM;IAC9C,CAAC,CAAC;IACF,IAAIL,GAAG,CAAC,CAAC,CAACa,aAAa,KAAKR,MAAM,IAAIG,aAAa,EAAE;MACnDJ,KAAK,CAACU,cAAc,CAAC,CAAC;MACtBT,MAAM,CAACU,KAAK,CAAC,CAAC;IAChB;EACF,CAAC,CAAC;AACJ;AAEA,SAASpB,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}