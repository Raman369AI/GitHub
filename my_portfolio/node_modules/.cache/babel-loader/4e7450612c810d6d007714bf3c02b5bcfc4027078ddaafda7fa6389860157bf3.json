{"ast":null,"code":"import { isObject, mergeWith } from '@chakra-ui/utils';\nimport { calc } from './calc.mjs';\nimport { cssVar } from './css-var.mjs';\nimport { flattenTokens } from './flatten-tokens.mjs';\nimport { pseudoSelectors } from '../pseudos.mjs';\nfunction tokenToCssVar(token, prefix) {\n  return cssVar(String(token).replace(/\\./g, \"-\"), void 0, prefix);\n}\nfunction createThemeVars(theme) {\n  const flatTokens = flattenTokens(theme);\n  const cssVarPrefix = theme.config?.cssVarPrefix;\n  let cssVars = {};\n  const cssMap = {};\n  function lookupToken(token, maybeToken) {\n    const scale = String(token).split(\".\")[0];\n    const withScale = [scale, maybeToken].join(\".\");\n    const resolvedTokenValue = flatTokens[withScale];\n    if (!resolvedTokenValue) return maybeToken;\n    const {\n      reference\n    } = tokenToCssVar(withScale, cssVarPrefix);\n    return reference;\n  }\n  for (const [token, tokenValue] of Object.entries(flatTokens)) {\n    const {\n      isSemantic,\n      value\n    } = tokenValue;\n    const {\n      variable,\n      reference\n    } = tokenToCssVar(token, cssVarPrefix);\n    if (!isSemantic) {\n      if (token.startsWith(\"space\")) {\n        const keys = token.split(\".\");\n        const [firstKey, ...referenceKeys] = keys;\n        const negativeLookupKey = `${firstKey}.-${referenceKeys.join(\".\")}`;\n        const negativeValue = calc.negate(value);\n        const negatedReference = calc.negate(reference);\n        cssMap[negativeLookupKey] = {\n          value: negativeValue,\n          var: variable,\n          varRef: negatedReference\n        };\n      }\n      cssVars[variable] = value;\n      cssMap[token] = {\n        value,\n        var: variable,\n        varRef: reference\n      };\n      continue;\n    }\n    const normalizedValue = isObject(value) ? value : {\n      default: value\n    };\n    cssVars = mergeWith(cssVars, Object.entries(normalizedValue).reduce((acc, [conditionAlias, conditionValue]) => {\n      if (!conditionValue) return acc;\n      const tokenReference = lookupToken(token, `${conditionValue}`);\n      if (conditionAlias === \"default\") {\n        acc[variable] = tokenReference;\n        return acc;\n      }\n      const conditionSelector = pseudoSelectors?.[conditionAlias] ?? conditionAlias;\n      acc[conditionSelector] = {\n        [variable]: tokenReference\n      };\n      return acc;\n    }, {}));\n    cssMap[token] = {\n      value: reference,\n      var: variable,\n      varRef: reference\n    };\n  }\n  return {\n    cssVars,\n    cssMap\n  };\n}\nexport { createThemeVars };","map":{"version":3,"names":["isObject","mergeWith","calc","cssVar","flattenTokens","pseudoSelectors","tokenToCssVar","token","prefix","String","replace","createThemeVars","theme","flatTokens","cssVarPrefix","config","cssVars","cssMap","lookupToken","maybeToken","scale","split","withScale","join","resolvedTokenValue","reference","tokenValue","Object","entries","isSemantic","value","variable","startsWith","keys","firstKey","referenceKeys","negativeLookupKey","negativeValue","negate","negatedReference","var","varRef","normalizedValue","default","reduce","acc","conditionAlias","conditionValue","tokenReference","conditionSelector"],"sources":["/home/coder/project/reactlab/node_modules/@chakra-ui/styled-system/dist/esm/create-theme-vars/create-theme-vars.mjs"],"sourcesContent":["import { isObject, mergeWith } from '@chakra-ui/utils';\nimport { calc } from './calc.mjs';\nimport { cssVar } from './css-var.mjs';\nimport { flattenTokens } from './flatten-tokens.mjs';\nimport { pseudoSelectors } from '../pseudos.mjs';\n\nfunction tokenToCssVar(token, prefix) {\n  return cssVar(String(token).replace(/\\./g, \"-\"), void 0, prefix);\n}\nfunction createThemeVars(theme) {\n  const flatTokens = flattenTokens(theme);\n  const cssVarPrefix = theme.config?.cssVarPrefix;\n  let cssVars = {};\n  const cssMap = {};\n  function lookupToken(token, maybeToken) {\n    const scale = String(token).split(\".\")[0];\n    const withScale = [scale, maybeToken].join(\".\");\n    const resolvedTokenValue = flatTokens[withScale];\n    if (!resolvedTokenValue)\n      return maybeToken;\n    const { reference } = tokenToCssVar(withScale, cssVarPrefix);\n    return reference;\n  }\n  for (const [token, tokenValue] of Object.entries(flatTokens)) {\n    const { isSemantic, value } = tokenValue;\n    const { variable, reference } = tokenToCssVar(token, cssVarPrefix);\n    if (!isSemantic) {\n      if (token.startsWith(\"space\")) {\n        const keys = token.split(\".\");\n        const [firstKey, ...referenceKeys] = keys;\n        const negativeLookupKey = `${firstKey}.-${referenceKeys.join(\".\")}`;\n        const negativeValue = calc.negate(value);\n        const negatedReference = calc.negate(reference);\n        cssMap[negativeLookupKey] = {\n          value: negativeValue,\n          var: variable,\n          varRef: negatedReference\n        };\n      }\n      cssVars[variable] = value;\n      cssMap[token] = {\n        value,\n        var: variable,\n        varRef: reference\n      };\n      continue;\n    }\n    const normalizedValue = isObject(value) ? value : { default: value };\n    cssVars = mergeWith(\n      cssVars,\n      Object.entries(normalizedValue).reduce(\n        (acc, [conditionAlias, conditionValue]) => {\n          if (!conditionValue)\n            return acc;\n          const tokenReference = lookupToken(token, `${conditionValue}`);\n          if (conditionAlias === \"default\") {\n            acc[variable] = tokenReference;\n            return acc;\n          }\n          const conditionSelector = pseudoSelectors?.[conditionAlias] ?? conditionAlias;\n          acc[conditionSelector] = { [variable]: tokenReference };\n          return acc;\n        },\n        {}\n      )\n    );\n    cssMap[token] = {\n      value: reference,\n      var: variable,\n      varRef: reference\n    };\n  }\n  return {\n    cssVars,\n    cssMap\n  };\n}\n\nexport { createThemeVars };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}