{"ast":null,"code":"'use client';\n\nimport { jsx } from 'react/jsx-runtime';\nimport { usePresence } from 'framer-motion';\nimport { useEffect } from 'react';\nimport { RemoveScroll } from 'react-remove-scroll';\nimport { useModalContext } from './modal.mjs';\nimport { useModalManager } from './modal-manager.mjs';\nimport { FocusLock } from '../focus-lock/focus-lock.mjs';\nfunction ModalFocusScope(props) {\n  const {\n    autoFocus,\n    trapFocus,\n    dialogRef,\n    initialFocusRef,\n    blockScrollOnMount,\n    allowPinchZoom,\n    finalFocusRef,\n    returnFocusOnClose,\n    preserveScrollBarGap,\n    lockFocusAcrossFrames,\n    isOpen\n  } = useModalContext();\n  const [isPresent, safeToRemove] = usePresence();\n  useEffect(() => {\n    if (!isPresent && safeToRemove) {\n      setTimeout(safeToRemove);\n    }\n  }, [isPresent, safeToRemove]);\n  const index = useModalManager(dialogRef, isOpen);\n  return /* @__PURE__ */jsx(FocusLock, {\n    autoFocus,\n    isDisabled: !trapFocus,\n    initialFocusRef,\n    finalFocusRef,\n    restoreFocus: returnFocusOnClose,\n    contentRef: dialogRef,\n    lockFocusAcrossFrames,\n    children: /* @__PURE__ */jsx(RemoveScroll, {\n      removeScrollBar: !preserveScrollBarGap,\n      allowPinchZoom,\n      enabled: index === 1 && blockScrollOnMount,\n      forwardProps: true,\n      children: props.children\n    })\n  });\n}\nexport { ModalFocusScope };","map":{"version":3,"names":["jsx","usePresence","useEffect","RemoveScroll","useModalContext","useModalManager","FocusLock","ModalFocusScope","props","autoFocus","trapFocus","dialogRef","initialFocusRef","blockScrollOnMount","allowPinchZoom","finalFocusRef","returnFocusOnClose","preserveScrollBarGap","lockFocusAcrossFrames","isOpen","isPresent","safeToRemove","setTimeout","index","isDisabled","restoreFocus","contentRef","children","removeScrollBar","enabled","forwardProps"],"sources":["/home/coder/project/reactlab/node_modules/@chakra-ui/react/dist/esm/modal/modal-focus.mjs"],"sourcesContent":["'use client';\nimport { jsx } from 'react/jsx-runtime';\nimport { usePresence } from 'framer-motion';\nimport { useEffect } from 'react';\nimport { RemoveScroll } from 'react-remove-scroll';\nimport { useModalContext } from './modal.mjs';\nimport { useModalManager } from './modal-manager.mjs';\nimport { FocusLock } from '../focus-lock/focus-lock.mjs';\n\nfunction ModalFocusScope(props) {\n  const {\n    autoFocus,\n    trapFocus,\n    dialogRef,\n    initialFocusRef,\n    blockScrollOnMount,\n    allowPinchZoom,\n    finalFocusRef,\n    returnFocusOnClose,\n    preserveScrollBarGap,\n    lockFocusAcrossFrames,\n    isOpen\n  } = useModalContext();\n  const [isPresent, safeToRemove] = usePresence();\n  useEffect(() => {\n    if (!isPresent && safeToRemove) {\n      setTimeout(safeToRemove);\n    }\n  }, [isPresent, safeToRemove]);\n  const index = useModalManager(dialogRef, isOpen);\n  return /* @__PURE__ */ jsx(\n    FocusLock,\n    {\n      autoFocus,\n      isDisabled: !trapFocus,\n      initialFocusRef,\n      finalFocusRef,\n      restoreFocus: returnFocusOnClose,\n      contentRef: dialogRef,\n      lockFocusAcrossFrames,\n      children: /* @__PURE__ */ jsx(\n        RemoveScroll,\n        {\n          removeScrollBar: !preserveScrollBarGap,\n          allowPinchZoom,\n          enabled: index === 1 && blockScrollOnMount,\n          forwardProps: true,\n          children: props.children\n        }\n      )\n    }\n  );\n}\n\nexport { ModalFocusScope };\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,GAAG,QAAQ,mBAAmB;AACvC,SAASC,WAAW,QAAQ,eAAe;AAC3C,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,eAAe,QAAQ,aAAa;AAC7C,SAASC,eAAe,QAAQ,qBAAqB;AACrD,SAASC,SAAS,QAAQ,8BAA8B;AAExD,SAASC,eAAeA,CAACC,KAAK,EAAE;EAC9B,MAAM;IACJC,SAAS;IACTC,SAAS;IACTC,SAAS;IACTC,eAAe;IACfC,kBAAkB;IAClBC,cAAc;IACdC,aAAa;IACbC,kBAAkB;IAClBC,oBAAoB;IACpBC,qBAAqB;IACrBC;EACF,CAAC,GAAGf,eAAe,CAAC,CAAC;EACrB,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGpB,WAAW,CAAC,CAAC;EAC/CC,SAAS,CAAC,MAAM;IACd,IAAI,CAACkB,SAAS,IAAIC,YAAY,EAAE;MAC9BC,UAAU,CAACD,YAAY,CAAC;IAC1B;EACF,CAAC,EAAE,CAACD,SAAS,EAAEC,YAAY,CAAC,CAAC;EAC7B,MAAME,KAAK,GAAGlB,eAAe,CAACM,SAAS,EAAEQ,MAAM,CAAC;EAChD,OAAO,eAAgBnB,GAAG,CACxBM,SAAS,EACT;IACEG,SAAS;IACTe,UAAU,EAAE,CAACd,SAAS;IACtBE,eAAe;IACfG,aAAa;IACbU,YAAY,EAAET,kBAAkB;IAChCU,UAAU,EAAEf,SAAS;IACrBO,qBAAqB;IACrBS,QAAQ,EAAE,eAAgB3B,GAAG,CAC3BG,YAAY,EACZ;MACEyB,eAAe,EAAE,CAACX,oBAAoB;MACtCH,cAAc;MACde,OAAO,EAAEN,KAAK,KAAK,CAAC,IAAIV,kBAAkB;MAC1CiB,YAAY,EAAE,IAAI;MAClBH,QAAQ,EAAEnB,KAAK,CAACmB;IAClB,CACF;EACF,CACF,CAAC;AACH;AAEA,SAASpB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}